# Components

This page contains a list of all the client components in the project and their purpose, used to help with development and debugging.
This also serves as a reference to the functionality of the components, and can be used as a usability test plan.


| Filename | Comment |
| -------- | ------- |
| [LoadingSpinner.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/LoadingSpinner.tsx) | The default loading spinner used throughout the application and is used as the main loading indicator for pages.This is a simple wrapper around the NextUI Spinner component and is kept minimal for ease of use. |
| [authFallback.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/authFallback.tsx) | Renders content, but if the fallbackIf condition is met, renders the fallback instead.This is used for authentication/authorization purposes such as redirecting to the login page if the user is not logged in.The server-side version of this component is AuthSwitchServer. |
| [authRedirect.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/authRedirect.tsx) | Redirects the signedInUser to a page if they are logged in or logged out.Functions similarly to AuthFallback, but redirects instead of rendering a fallback.@example `<AuthRedirectServer to={"/"} if={"logged-in"}>...</AuthRedirectServer>` Redirects to `/` if logged in, otherwise renders children@example `<AuthRedirectServer to={"/"} if={"logged-out"}>...</AuthRedirectServer>` Redirects to `/` if logged out, otherwise renders children |
| [clientForm.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/clientForm.tsx) | This is the main form for editing and or creating a client. The form receives the client id as a prop.If the client id is undefined, the form will be in create mode. Otherwise, it will be in edit mode.It handles communication with the API and updates the local state via the Client service. |
| [clientSelector.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/clientSelector.tsx) | Allows the user to select a client from a list of clients.If no clients are cached, it will load them from the server.Uses the SearchInput component to display the list of clients. |
| [clientsSidebar.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/clientsSidebar.tsx) | This is the sidebar for the clients page. It displays a list of clients and should allow the user to filter them.It handles communication with the API and updates the local state via the Client service.This is used in tandem with the ClientForm component to edit/create clients.TODO: Implement filtering<span><br/>**Work In Progress**: This component is not yet complete.</span> |
| [createOrganizationModal.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/createOrganizationModal.tsx) | This is the modal for creating an organization. This is a controlled component and can be opened and closed via the isOpen prop.Right now only the form is implemented. The actual API call to create an organization is not implemented yet.TODO: Create the Organization service to handle CRUD operations for organizations.<span><br/>**Work In Progress**: This component is not yet complete.</span> |
| [employeeForm.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/employeeForm.tsx) | The EmployeeForm component renders a form for the user to input the name, phone, email, and permissions when creating an employee for a selected organization(otherwise it will prompt them to join or create one). When they click on the save button, the created employee will be added to the employees list in their accountfor them to look at in its own page, showing two buttons beside it: Edit (lets them update the employee's data) and Delete in a dropdown button (deletes the employee's data with aconfirmation). |
| [employeesSidebar.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/employeesSidebar.tsx) | The EmployeesSidebar component renders a sidebar of the list of employees for the user to click on one if they want to view its data in its page.Underneath the list is a button that will allow them to create a new employee, taking them to the create page that will allow them to do that. |
| [homeCTA.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/homeCTA.tsx) | This is the main call to action on the home page. It contains a title, subtitle, and a signup form.This is usually the first thing a user sees when they visit the site, if they are not logged in.It is also used as the fallback for the home page if the user is not logged in. |
| [invoiceEntriesTable.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/invoiceEntriesTable.tsx) | This is a table component for the Invoices page. It displays all the invoice entries.It renders an extra row at the bottom for the user to enter a new invoice entry in.On typing in the empty row, a new empty row is created at the bottom.Also has an action button to delete the invoice entry from the invoice.The empty row and actions are hidden in edit mode |
| [invoiceForm.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/invoiceForm.tsx) | This is the main form for editing and or creating an Invoice. The form receives the invoice id as a prop.If the invoice id is undefined, the form will be in create mode. Otherwise, it will be in edit mode.It handles communication with the API and updates the local state via the Invoice service. |
| [invoiceSidebar.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/invoiceSidebar.tsx) | This is the sidebar for the invoices page. It displays a list of invoices and should allow the user to filter them.It handles communication with the API and updates the local state via the Invoice service.This is used in tandem with the InvoiceForm component to edit/create invoices.TODO: Implement filtering<span><br/>**Work In Progress**: This component is not yet complete.</span> |
| [jobForm.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/jobForm.tsx) | This is the main form for editing and or creating a job. The form receives the job id as a prop.If the job id is undefined, the form will be in create mode. Otherwise, it will be in edit mode.It handles communication with the API and updates the local state via the Job service.TODO: Implement this component and the Job service.<span><br/>**Work In Progress**: This component is not yet complete.</span> |
| [jobsNavbar.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/jobsNavbar.tsx) | This is the main form for editing and or creating a job. The form receives the job id as a prop.If the job id is undefined, the form will be in create mode. Otherwise, it will be in edit mode.It handles communication with the API and updates the local state via the Job service.TODO: Implement this component and the Job service.<span><br/>**Work In Progress**: This component is not yet complete.</span> |
| [joinOrganizationModal.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/joinOrganizationModal.tsx) | This is the modal for joining an organization. This is a controlled component and can be opened and closed via the isOpen prop.Right now only the form is implemented. The actual API call to join an organization is not implemented yet.The user should be able to join an organization via a join code or a link which will be provided by the organization.TODO: Create the Organization service to handle CRUD operations for organizations.<span><br/>**Work In Progress**: This component is not yet complete.</span> |
| [loginForm.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/loginForm.tsx) | This is the login form component. It is used to login to the application.It shows a form with a username and password field. Though the user can login with either their username or email.It also has links to the signup page and the forgot password page. |
| [organizationSelector.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/organizationSelector.tsx) | The organization selector is the main component for selecting an organization. It is used in the header and in any pages that require an organization to be selected.ContractrPro is a multi-tenant application, so the organization is a key part of the application and most of the operations are scoped to an organization.This component is a dropdown that lists the organizations the user is a member of. It also has actions for creating and joining organizations.Upon selecting an organization, the `currentOrganization` state is updated in the user store. The `create organization` and `join organization` actions open their respective modals.For more, see the **`JoinOrganizationModal`** and **`CreateOrganizationModal`** components. |
| [searchInput.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/searchInput.tsx) | Search input that allows the user to select items from a list.The list is displayed in a dropdown.The user can search for items in the list.The user can select multiple items from the list if selectionMode is "multiple".The user can select only one item from the list if selectionMode is "single".The input itself cannot be selected.The trigger and items are passed as props.The items are passed as an array of DropdownItem elements. |
| [sidebar.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/sidebar.tsx) | This is the main sidebar for the application. It displays a list of links to the main pages of the application.- It requires the user to be logged in.- The sidebar is collapsible- It displays a tooltip on hover for each item- It highlights the current page- It becomes a top bar on mobile (merged with TopBar) |
| [signupForm.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/signupForm.tsx) | The default signup form component. It is used to create a new account.- Shows a form with a username, email and password field.- It also has a link to the login page.- On submit, the button is disabled until the request is completed.- On success, the user is redirected to the login page.- On error, the error is shown in a toast. |
| [theme-switch.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/theme-switch.tsx) | A switch to toggle between light and dark mode. It uses the next-themes package.- is icon only- shows a tooltip on hover- changes the theme on click- displays different icons depending on the current theme |
| [toast.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/toast.tsx) | A toast component that shows a message for a few seconds. It can be used to show a success, error, warning or info message.It is used in tandem with the **ToastBox** component which occupies the bottom right corner of the screen and shows all the toasts.The Toasts service can be used to add toasts from anywhere in the app.- The **title** is shown in bold at the top of the toast.- The **message** is shown below the title.- The **type** determines the color of the toast. It can be "info", "success", "error" or "warning".- The **durationInSecs** determines how long the toast is shown. It is 5 seconds by default.- The **body** can be any ReactNode. It is shown below the message.- The **showDuration** determines whether the duration progress bar is shown. It is true by default.- The **hideCloseButton** determines whether the close button is shown. It is false by default.- The **onClose** is called when the toast is closed.- The **isPressable** determines whether the toast is pressable. It is false by default.- The **onPress** is called when the toast is pressed.- The **endContent** is shown at the end (right side) of the toast.- The **startContent** is shown at the start (left side) of the toast. |
| [toastBox.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/toastBox.tsx) | The toast box component. It is used to contain all the toasts.- is a container for all the toasts.- displayed on top of all other components.- occupies the bottom right corner of the screen. |
| [topbar.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/topbar.tsx) | The main navigation component of the app. It is shown at the top of the screen.- Always visible.- If no user is logged in, it shows the visitor menu.- If a user is logged in, it shows the user menu, a search bar, and the organization selector.- In mobile, it shows a hamburger menu that shows its content in a vertical navbar.- In mobile, it also shows the sidebar items in a vertical navbar. |
| [userMenu.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/userMenu.tsx) | This is the user menu component. It is used to show the user menu in the top right corner of the screen.- shows the user's unique username and email.- also shows the user's profile picture.- has a dropdown menu with options to logout, go to settings, etc.- In mobile view, it only shows the user's avatar.- In mobile view, it shows the user's username and email in the dropdown menu. |
| [visitorMenu.tsx](https://github.com/416rehman/contractrPro/tree/dev/client/components/visitorMenu.tsx) | The menu for visitors (not logged-in users). Contains the login and signup buttons.- is a dropdown on small screens- is a navbar on large screens- contains a theme switch- contains a link to the login page- contains a link to the signup page |
